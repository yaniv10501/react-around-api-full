{"version":3,"sources":["images/header-logo.svg","images/mobile-menu.svg","images/close-icon.png","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","utils/auth.js","components/Main.js","components/Footer.js","utils/handleClick.js","components/ImagePopup.js","utils/api.js","utils/regex.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeleteCardPopup.js","components/ProtectedRoute.js","components/FormPage.js","utils/form.js","components/Login.js","components/Register.js","images/fail-register.svg","images/success-register.svg","components/InfoTooltip.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","headerText","headerButton","headerAction","headerStyle","mobileQuery","useMediaQuery","query","useState","mobileMenu","menuIcon","setMenuIcon","menuOpen","isMenuOpen","useEffect","closeIcon","className","style","alignItems","src","logo","alt","marginTop","onClick","height","width","role","tabIndex","action","defaultProps","CurrentUserContext","createContext","Card","card","_id","name","link","owner","likes","onCardClick","onLike","likeActive","onDelete","currentUser","useContext","isOwn","cardDeleteButtonClassName","isLiked","some","like","cardLikeButtonClassName","type","length","BaseUrl","checkRes","res","a","ok","json","Promise","status","then","data","error","message","reject","register","email","password","fetch","method","headers","body","JSON","stringify","login","logout","credentials","authorize","Main","isLoading","cards","onEditProfileClick","onAddPlaceClick","onEditAvatarClick","onDeleteCardClick","onCardLike","setHeaderText","setHeaderButton","setHeaderAction","setHeaderStyle","setLoggedIn","setCurrentUser","navigate","useNavigate","about","handleLogout","setHeader","color","catch","backgroundImage","id","map","Footer","event","handleClose","target","includes","ImagePopup","selectedCard","isOpen","onClose","handleClick","api","baseUrl","this","_baseUrl","url","testValid","input","test","testUrl","pattern","valid","match","PopupWithForm","formName","formTitle","submitTitle","submitLoadingTitle","onSubmit","formRef","formValid","children","ref","noValidate","EditProfilePopup","onUpdateUser","useRef","setIsLoading","setFormValid","isValid","inputError","nameError","setNameError","aboutError","setAboutError","setName","setAbout","handleSubmit","preventDefault","setTimeout","placeholder","value","onChange","required","EditAvatarPopup","onUpdateAvatar","setUrl","urlError","setUrlError","useCallback","escapedInput","escape","result","AddPlacePopup","onAddPlace","setLink","DeleteCardPopup","onDeleteCard","ProtectedRoute","loggedIn","to","FormPage","handleEmailChange","setEmail","setEmailError","emailValid","testEmail","handlePasswordChange","setPassword","setPasswordError","options","Login","setInfoTooltipMessage","setInfoTooltipOk","setInfoToolTipOpen","isLoadingLogin","setIsLoadingLogin","emailError","passwordError","handleRegisterRedirect","Error","err","finally","Register","isLoadingSignup","setIsLoadingSignup","handleLoginRedirect","InfoTooltip","isOk","successIcon","failIcon","App","setLikeActive","setSelectedCard","deleteCardId","setDeleteCardId","isEditInfoPopupOpen","setIsEditIntoPopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isDeleteCardPopupOpen","setIsDeleteCardPopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","isInfoTooltipOpen","setIsInfoTooltipOpen","infoTooltipOk","infoTooltipMessage","setCards","closeAllPopups","closeByEscape","e","key","document","addEventListener","removeEventListener","handleUpdateUser","setUserinfo","user","console","log","handleUpdateAvatar","setUserPicture","handleAddPlace","addCard","setNewCard","newCard","state","handleCardDelete","deleteCard","filter","getIntialCard","initialCards","Provider","path","element","cardId","removeLike","addLike","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d8405a00.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-logo.4e8e0a1d.svg\";","export default __webpack_public_path__ + \"static/media/mobile-menu.a46d5c1c.svg\";","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAA6CAYAAADhu0ooAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEYSURBVHgB7dlhDoIwDIbhxhN4Y7mJuxHeqLJgk4bgHLBu6/zexF8mK88fHSkRQgghhBBC6H9j5vvymci4OCPOohZ9kC9ee5JR8ezPjLk6doNkK6xCchPsMuzB+xXD7iCliWq2DAxW2AQyUIsssN0h1YMVw3aLlEpgu0dKV7BukNIZrDukdATrFinlYN0jpRR2GKSUwI6DlDKxgUboBzZQhW5UJz75nZ8SPzw6s/fZKmUifWMTyMCGr3hV44z/SfdYPnAZcIvlEzced1i+cK1zg+UCd9fusSWQ6qw+sSWR6sy+sBZIdXYfWF53ISZINeMbdqJa8bqSmK2Qas4WG9cgTfYvsxVSzQnNkOohxl8bIoQQQgghhProDd54uKNMgm3ZAAAAAElFTkSuQmCC\"","/* eslint-disable jsx-a11y/no-noninteractive-element-interactions */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\nimport React, { useEffect, useState } from 'react';\nimport { useMediaQuery } from 'react-responsive';\nimport PropTypes from 'prop-types';\nimport logo from '../images/header-logo.svg';\nimport mobileMenu from '../images/mobile-menu.svg';\nimport closeIcon from '../images/close-icon.png';\n\nexport default function Header({ headerText, headerButton, headerAction, headerStyle }) {\n  const mobileQuery = useMediaQuery({ query: '(max-width: 652px)' });\n\n  const [menuIcon, setMenuIcon] = useState(mobileMenu);\n\n  const [menuOpen, isMenuOpen] = useState(false);\n\n  const handleClick = () => {\n    isMenuOpen(!menuOpen);\n  };\n\n  useEffect(() => {\n    if (menuOpen) {\n      setMenuIcon(closeIcon);\n    } else {\n      setMenuIcon(mobileMenu);\n    }\n  }, [menuOpen]);\n\n  return (\n    <header className=\"header\">\n      <div className=\"header__icons\" style={menuOpen ? { alignItems: 'center' } : {}}>\n        <img\n          className=\"header__logo\"\n          src={logo}\n          alt=\"Header logo\"\n          style={menuOpen ? { marginTop: '32px' } : {}}\n        />\n\n        {mobileQuery && (\n          <img\n            className=\"header__menu-icon\"\n            src={menuIcon}\n            alt=\"mobile menu icon\"\n            onClick={handleClick}\n            style={menuIcon === closeIcon ? { height: '38px', width: '38px' } : {}}\n          />\n        )}\n      </div>\n\n      {mobileQuery &&\n        (menuOpen ? (\n          <p className=\"header__text\">\n            {headerText}\n            <span\n              className=\"header__button\"\n              role=\"button\"\n              tabIndex={0}\n              onClick={headerAction.action}\n              style={headerStyle}\n            >\n              {' '}\n              {headerButton}\n            </span>\n          </p>\n        ) : (\n          ''\n        ))}\n      {!mobileQuery && (\n        <p className=\"header__text\">\n          {headerText}\n          <span\n            className=\"header__button\"\n            role=\"button\"\n            tabIndex={0}\n            onClick={headerAction.action}\n            style={headerStyle}\n          >\n            {' '}\n            {headerButton}\n          </span>\n        </p>\n      )}\n    </header>\n  );\n}\nHeader.propTypes = {\n  headerText: PropTypes.string,\n  headerButton: PropTypes.string.isRequired,\n  headerAction: PropTypes.objectOf(PropTypes.func).isRequired,\n  headerStyle: PropTypes.objectOf(PropTypes.string).isRequired,\n};\nHeader.defaultProps = {\n  headerText: '',\n};\n","import { createContext } from 'react';\n\nconst CurrentUserContext = createContext();\n\nexport default CurrentUserContext;\n","/* eslint-disable jsx-a11y/no-noninteractive-element-interactions */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\nimport React, { useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nexport default function Card({\n  card: { _id, name, link, owner, likes },\n  onCardClick,\n  onLike,\n  likeActive,\n  onDelete,\n}) {\n  const currentUser = useContext(CurrentUserContext);\n\n  const isOwn = owner === currentUser._id;\n\n  const cardDeleteButtonClassName = `photo__delete ${!isOwn && 'photo__delete_hidden'}`;\n\n  const isLiked = likes.some((like) => like === currentUser._id);\n\n  const cardLikeButtonClassName = `photo__like ${isLiked && 'photo__like_active'}`;\n\n  const handleClick = () => {\n    onCardClick(name, link);\n  };\n\n  const handleLikeClick = () => {\n    onLike(_id, likes);\n  };\n\n  const handleDeleteClick = () => {\n    onDelete(_id);\n  };\n\n  return (\n    <li className=\"photo\">\n      <img className=\"photo__image\" alt={name} src={link} onClick={handleClick} />\n\n      <button\n        className={cardDeleteButtonClassName}\n        type=\"button\"\n        aria-label=\"Delete\"\n        onClick={handleDeleteClick}\n      />\n\n      <div className=\"photo__info\">\n        <h2 className=\"photo__title\">{name}</h2>\n\n        <div className=\"photo__like-container\">\n          <button\n            className={cardLikeButtonClassName}\n            type=\"button\"\n            aria-label=\"Like\"\n            onClick={likeActive ? {} : handleLikeClick}\n          />\n\n          <p className=\"photo__like-count\">{likes.length}</p>\n        </div>\n      </div>\n    </li>\n  );\n}\nCard.propTypes = {\n  card: PropTypes.instanceOf(Object).isRequired,\n  onCardClick: PropTypes.func.isRequired,\n  onLike: PropTypes.func.isRequired,\n  likeActive: PropTypes.bool.isRequired,\n  onDelete: PropTypes.func.isRequired,\n};\n","/* eslint-disable no-undef */\n/* eslint-disable prefer-promise-reject-errors */\nconst BaseUrl = 'https://around.yanivportfolio.com/api';\n\nexport const checkRes = async (res) =>\n  res.ok\n    ? res.json()\n    : Promise.reject({\n        status: res.status,\n        message: await res.json().then((data) => data.error || data.message),\n      });\n\nexport const register = async (email, password) =>\n  fetch(`${BaseUrl}/signup`, {\n    method: 'POST',\n    headers: {\n      'content-type': 'application/json',\n    },\n    body: JSON.stringify({\n      email,\n      password,\n    }),\n  }).then((res) => checkRes(res));\n\nexport const login = async (email, password) =>\n  fetch(`${BaseUrl}/signin`, {\n    method: 'POST',\n    headers: {\n      'content-type': 'application/json',\n    },\n    body: JSON.stringify({\n      email,\n      password,\n    }),\n  }).then((res) => checkRes(res));\n\nexport const logout = async () =>\n  fetch(`${BaseUrl}/signout`, {\n    method: 'POST',\n    headers: {\n      'content-type': 'application/json',\n    },\n    credentials: 'include',\n  }).then(checkRes);\n\nexport const authorize = async () =>\n  fetch(`${BaseUrl}/users/me`, {\n    method: 'GET',\n    credentials: 'include',\n    headers: {\n      'content-type': 'application/json',\n    },\n  }).then((res) => checkRes(res));\n","import React, { useContext, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport Card from './Card';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport { authorize, logout } from '../utils/auth';\n\nexport default function Main({\n  isLoading,\n  cards,\n  onEditProfileClick,\n  onAddPlaceClick,\n  onEditAvatarClick,\n  onDeleteCardClick,\n  onCardClick,\n  onCardLike,\n  likeActive,\n  setHeaderText,\n  setHeaderButton,\n  setHeaderAction,\n  setHeaderStyle,\n  setLoggedIn,\n  setCurrentUser,\n}) {\n  const navigate = useNavigate();\n\n  const currentUser = useContext(CurrentUserContext);\n\n  const { name, about, link } = currentUser;\n\n  const handleLogout = () => {\n    logout().then(() => {\n      setLoggedIn(false);\n      setCurrentUser({});\n      navigate('/');\n    });\n  };\n\n  const setHeader = () => {\n    setLoggedIn(true);\n\n    setHeaderButton('Log out');\n\n    setHeaderStyle({ color: '#A9A9A9' });\n\n    setHeaderAction({ action: handleLogout });\n  };\n\n  useEffect(() => {\n    if (!currentUser.email || currentUser.email === '') {\n      authorize()\n        .then((res) => {\n          setCurrentUser(res);\n\n          setHeaderText(res.email);\n\n          setHeader();\n        })\n        .catch(() => {\n          navigate('/login');\n        });\n      return;\n    }\n    setHeaderText(currentUser.email);\n\n    setHeader();\n  }, []);\n\n  return (\n    <main className=\"container\">\n      <div className={isLoading ? 'spinner' : 'spinner spinner_hidden'}>\n        <i />\n      </div>\n\n      <div className={isLoading ? 'content content_hidden' : 'content'}>\n        <section className=\"profile\">\n          <button className=\"profile__edit-pic\" type=\"button\" onClick={onEditAvatarClick}>\n            <div className=\"profile__pic\" style={{ backgroundImage: `url(${link})` }} />\n          </button>\n\n          <div className=\"profile__info\">\n            <h1 className=\"profile__name\" id=\"name\">\n              {name}\n            </h1>\n\n            <p className=\"profile__description\" id=\"job\">\n              {about}\n            </p>\n\n            <button\n              className=\"profile__edit-button\"\n              type=\"button\"\n              aria-label=\"Edit profile\"\n              onClick={onEditProfileClick}\n            />\n          </div>\n\n          <button\n            className=\"profile__add-button\"\n            type=\"button\"\n            aria-label=\"Add a picture\"\n            onClick={onAddPlaceClick}\n          />\n        </section>\n\n        <section className=\"photos\">\n          <ul className=\"photos__grid\">\n            {cards.map((card) => (\n              <Card\n                card={card}\n                key={card._id}\n                onCardClick={onCardClick}\n                onLike={onCardLike}\n                likeActive={likeActive}\n                onDelete={onDeleteCardClick}\n              />\n            ))}\n          </ul>\n        </section>\n      </div>\n    </main>\n  );\n}\nMain.propTypes = {\n  isLoading: PropTypes.bool.isRequired,\n  cards: PropTypes.arrayOf(PropTypes.object).isRequired,\n  onEditProfileClick: PropTypes.func.isRequired,\n  onAddPlaceClick: PropTypes.func.isRequired,\n  onEditAvatarClick: PropTypes.func.isRequired,\n  onDeleteCardClick: PropTypes.func.isRequired,\n  onCardClick: PropTypes.func.isRequired,\n  onCardLike: PropTypes.func.isRequired,\n  likeActive: PropTypes.bool.isRequired,\n  setHeaderText: PropTypes.func.isRequired,\n  setHeaderButton: PropTypes.func.isRequired,\n  setHeaderAction: PropTypes.func.isRequired,\n  setHeaderStyle: PropTypes.func.isRequired,\n  setLoggedIn: PropTypes.func.isRequired,\n  setCurrentUser: PropTypes.func.isRequired,\n};\n","import React from 'react';\n\nexport default function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2021 Around the U.S. Yaniv Schweitzer</p>\n    </footer>\n  );\n}\n","export default (event, handleClose) => {\n  if (event.target.className.includes('popup_opened')) {\n    handleClose();\n  }\n};\n","/* eslint-disable jsx-a11y/click-events-have-key-events */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport handleClick from '../utils/handleClick';\n\nexport default function ImagePopup({ selectedCard: { name, link }, isOpen, onClose }) {\n  const clickHandler = (event) => handleClick(event, onClose);\n\n  return (\n    <div\n      onClick={clickHandler}\n      role=\"button\"\n      tabIndex={0}\n      className={isOpen ? 'popup popup_type_image popup_opened' : 'popup popup_type_image'}\n    >\n      <div className=\"popup__container popup__container_type_image\">\n        <img className=\"popup__image\" src={link} alt={name} />\n\n        <h2 className=\"popup__image-title\">{name}</h2>\n\n        <button\n          className=\"popup__close-button\"\n          type=\"button\"\n          aria-label=\"Close\"\n          onClick={onClose}\n        />\n      </div>\n    </div>\n  );\n}\nImagePopup.propTypes = {\n  selectedCard: PropTypes.objectOf(PropTypes.string).isRequired,\n  isOpen: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n","/* eslint-disable no-undef */\n/* eslint-disable no-underscore-dangle */\nimport { checkRes } from './auth';\n\n/** @module Api */\n\n/**\n * @class\n * @classdesc Make requests to the website API with the class methods\n * @constructor\n * @param {object} - An object with the base URL of the API and the authorization key\n * @param {string} - The base URL of the API\n */\n\nclass Api {\n  constructor({ baseUrl }) {\n    this._baseUrl = baseUrl;\n  }\n\n  /**\n   * @method getIntialCard\n   * @description A public method to get the intial cards from the API\n   * @returns The result from the API\n   * @public\n   */\n\n  getIntialCard() {\n    return fetch(`${this._baseUrl}/cards`, {\n      credentials: 'include',\n    }).then((res) => checkRes(res));\n  }\n\n  /**\n   * @method setUserInfo\n   * @description A public method to set the user info in the API\n   * @param {object} - An object with the name and about info for the user\n   * @param {string} name - The user name\n   * @param {string} about - The user about info\n   * @returns The result from the API\n   * @public\n   */\n\n  setUserinfo({ name, about }) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      credentials: 'include',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        name,\n        about,\n      }),\n    }).then((res) => checkRes(res));\n  }\n\n  /**\n   * @method setUserPicture\n   * @description A public method to set a new user picture in the API\n   * @param {string} url - The url for the user picture\n   * @returns The result from the API\n   * @public\n   */\n\n  setUserPicture(url) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      credentials: 'include',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        link: url,\n      }),\n    }).then((res) => checkRes(res));\n  }\n\n  /**\n   * @method addCard\n   * @description A public method to add a new image card to the API\n   * @param {object} - An object with the name and link for the image card\n   * @param {string} name - The title for the image card\n   * @param {string} link - The url for the image\n   * @returns The result from the API\n   * @public\n   */\n\n  addCard({ name, link }) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      credentials: 'include',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        name,\n        link,\n      }),\n    }).then((res) => checkRes(res));\n  }\n\n  /**\n   * @method deleteCard\n   * @description A public method to delete a card from the API\n   * @param {string} _id - The id of the card\n   * @returns The result from the API\n   * @public\n   */\n\n  deleteCard(_id) {\n    return fetch(`${this._baseUrl}/cards/${_id}`, {\n      method: 'DELETE',\n      credentials: 'include',\n    }).then((res) => checkRes(res));\n  }\n\n  /**\n   * @method addLike\n   * @description A public method to add a card like in the API\n   * @param {string} _id - The id of the card\n   * @returns The result from the API\n   * @public\n   */\n\n  addLike(_id) {\n    return fetch(`${this._baseUrl}/cards/${_id}/likes`, {\n      method: 'PUT',\n      credentials: 'include',\n    }).then((res) => checkRes(res));\n  }\n\n  /**\n   * @method removeLike\n   * @description A public method to remove a card like from the API\n   * @param {string} _id - The id of the card\n   * @returns The result from the API\n   * @public\n   */\n\n  removeLike(_id) {\n    return fetch(`${this._baseUrl}/cards/${_id}/likes`, {\n      method: 'DELETE',\n      credentials: 'include',\n    }).then((res) => checkRes(res));\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'https://around.yanivportfolio.com/api',\n});\n\nexport default api;\n","export const testEmail = (email) => {\n  const pattern =\n    /(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[x01-x08x0bx0cx0e-x1fx21x23-x5bx5d-x7f]|\\\\[x01-x09x0bx0cx0e-x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[x01-x08x0bx0cx0e-x1fx21-x5ax53-x7f]|\\\\[x01-x09x0bx0cx0e-x7f])+)\\])/;\n\n  return {\n    valid: pattern.test(email),\n    match: email.match(pattern),\n  };\n};\n\nexport const testValid = (input) => {\n  const pattern = /[<>]/;\n\n  return !pattern.test(input);\n};\n\nexport const testUrl = (url) => {\n  const pattern =\n    /https?:\\/\\/(www\\.)?[\\w._-~:/?%#[\\]@!$&'()*+,;=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([\\w._-~:/?%#[\\]@\\-!$&'()*+,;=]*)/;\n\n  return {\n    valid: pattern.test(url),\n    match: url.match(pattern),\n  };\n};\nexport const testStrength = (string) => {\n  const pattern = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?!.*\\s).*$/;\n  return pattern.test(string);\n};\n","/* eslint-disable jsx-a11y/click-events-have-key-events */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport handleClick from '../utils/handleClick';\n\nexport default function PopupWithForm({\n  name,\n  formName,\n  formTitle,\n  submitTitle,\n  submitLoadingTitle,\n  isOpen,\n  onSubmit,\n  formRef,\n  formValid,\n  isLoading,\n  handleClose,\n  children,\n}) {\n  const clickHandler = (event) => handleClick(event, handleClose);\n\n  return (\n    <div\n      role=\"button\"\n      tabIndex={0}\n      onClick={clickHandler}\n      className={isOpen ? `popup popup_type_${name} popup_opened` : `popup popup_type_${name}`}\n    >\n      <div className=\"popup__container\">\n        <form\n          ref={formRef}\n          className=\"popup__form\"\n          name={formName}\n          _id=\"\"\n          onSubmit={onSubmit}\n          noValidate\n        >\n          <h2 className=\"popup__title\">{formTitle}</h2>\n\n          {children}\n\n          <button\n            className={\n              formValid ? 'popup__save-button' : 'popup__save-button popup__save-button_disabled'\n            }\n            type=\"submit\"\n          >\n            {isLoading ? `${submitLoadingTitle}...` : submitTitle}\n          </button>\n        </form>\n\n        <button\n          className=\"popup__close-button\"\n          type=\"button\"\n          aria-label=\"Close\"\n          onClick={handleClose}\n        />\n      </div>\n    </div>\n  );\n}\nPopupWithForm.propTypes = {\n  name: PropTypes.string.isRequired,\n  formName: PropTypes.string.isRequired,\n  formTitle: PropTypes.string.isRequired,\n  submitTitle: PropTypes.string.isRequired,\n  submitLoadingTitle: PropTypes.string.isRequired,\n  isOpen: PropTypes.bool.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  formRef: PropTypes.objectOf(PropTypes.object).isRequired,\n  formValid: PropTypes.bool.isRequired,\n  isLoading: PropTypes.bool.isRequired,\n  handleClose: PropTypes.func.isRequired,\n  children: PropTypes.arrayOf(PropTypes.object),\n};\nPopupWithForm.defaultProps = {\n  children: [],\n};\n","import React, { useState, useContext, useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport { testValid } from '../utils/regex';\nimport PopupWithForm from './PopupWithForm';\n\nexport default function EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n  const formRef = useRef();\n\n  const [isLoading, setIsLoading] = useState(false);\n\n  const [formValid, setFormValid] = useState(false);\n\n  const [nameError, setNameError] = useState({\n    isValid: true,\n    inputError: '',\n  });\n\n  const [aboutError, setAboutError] = useState({\n    isValid: true,\n    inputError: '',\n  });\n\n  const [name, setName] = useState('');\n\n  const [about, setAbout] = useState('');\n\n  const handleNameInput = (event) => {\n    const input = event.target.value;\n\n    setName(input);\n\n    if (input.length < 2) {\n      setNameError({\n        isValid: false,\n        inputError: 'Use at least 2 characters',\n      });\n\n      return;\n    }\n\n    if (input.length > 40) {\n      setNameError({\n        isValid: false,\n        inputError: 'Use no more than 40 characters',\n      });\n\n      return;\n    }\n    if (testValid(input)) {\n      setNameError({\n        isValid: true,\n        inputError: '',\n      });\n    } else {\n      setNameError({\n        isValid: false,\n        inputError: `'<' and '>' are invalid characters`,\n      });\n    }\n  };\n\n  const handleAboutInput = (event) => {\n    const input = event.target.value;\n\n    setAbout(input);\n\n    if (input.length <= 2) {\n      setAboutError({\n        isValid: false,\n        inputError: 'Use at least 2 characters',\n      });\n\n      return;\n    }\n\n    if (input.length > 200) {\n      setAboutError({\n        isValid: false,\n        inputError: 'Use no more than 200 characters',\n      });\n\n      return;\n    }\n    if (testValid(input)) {\n      setAboutError({\n        isValid: true,\n        inputError: '',\n      });\n    } else {\n      setAboutError({\n        isValid: false,\n        inputError: `'<' and '>' are invalid characters`,\n      });\n    }\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    if (formValid) {\n      setIsLoading(true);\n\n      await onUpdateUser(name, about);\n\n      setTimeout(() => setIsLoading(false), 500);\n    }\n  };\n\n  const currentUser = useContext(CurrentUserContext);\n\n  const handleClose = () => {\n    onClose();\n\n    setName(currentUser.name);\n    setAbout(currentUser.about);\n\n    setAboutError({\n      isValid: true,\n      inputError: '',\n    });\n\n    setNameError({\n      isValid: true,\n      inputError: '',\n    });\n  };\n\n  useEffect(() => {\n    setName(currentUser.name);\n    setAbout(currentUser.about);\n  }, [currentUser, isOpen]);\n\n  useEffect(() => {\n    if (nameError.isValid && aboutError.isValid) {\n      setFormValid(true);\n    } else {\n      setFormValid(false);\n    }\n  }, [nameError, aboutError]);\n\n  return (\n    <PopupWithForm\n      name=\"edit-info\"\n      formName=\"editInfo\"\n      formTitle=\"Edit profile\"\n      submitTitle=\"Save\"\n      submitLoadingTitle=\"Saving\"\n      isOpen={isOpen}\n      handleClose={handleClose}\n      onSubmit={handleSubmit}\n      formRef={formRef}\n      formValid={formValid}\n      isLoading={isLoading}\n    >\n      <input\n        className=\"popup__input popup__input_type_name\"\n        id=\"name-input\"\n        type=\"text\"\n        placeholder=\"name\"\n        name=\"name\"\n        value={name || ''}\n        onChange={handleNameInput}\n        required\n      />\n\n      <span className=\"popup__error name-input-error\">{nameError.inputError}</span>\n\n      <input\n        className=\"popup__input popup__input_type_about\"\n        id=\"about-input\"\n        type=\"text\"\n        placeholder=\"about me\"\n        name=\"job\"\n        value={about || ''}\n        onChange={handleAboutInput}\n        required\n      />\n\n      <span className=\"popup__error about-input-error\">{aboutError.inputError}</span>\n    </PopupWithForm>\n  );\n}\nEditProfilePopup.propTypes = {\n  isOpen: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onUpdateUser: PropTypes.func.isRequired,\n};\n","import React, { useState, useRef, useCallback } from 'react';\nimport escape from 'escape-html';\nimport PropTypes from 'prop-types';\nimport { testUrl } from '../utils/regex';\nimport PopupWithForm from './PopupWithForm';\n\nexport default function EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\n  const [isLoading, setIsLoading] = useState(false);\n\n  const [formValid, setFormValid] = useState(false);\n\n  const [url, setUrl] = useState('');\n\n  const [urlError, setUrlError] = useState('');\n\n  const formRef = useRef();\n\n  const handleClose = useCallback(() => {\n    onClose();\n\n    setUrl('');\n\n    setUrlError('');\n\n    setFormValid(false);\n  }, [onClose]);\n\n  const handleUrlInputChange = (event) => {\n    const input = event.target.value;\n    const result = testUrl(input);\n    setUrl(input);\n\n    if (result.valid) {\n      setUrlError('');\n\n      setFormValid(true);\n    } else {\n      setUrlError('Please fill in a valid URL');\n\n      setFormValid(false);\n    }\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    if (formValid) {\n      setIsLoading(true);\n\n      const escapedInput = escape(url);\n\n      await onUpdateAvatar(escapedInput);\n\n      handleClose();\n\n      setTimeout(() => setIsLoading(false), 500);\n    }\n  };\n\n  return (\n    <PopupWithForm\n      name=\"edit-picture\"\n      formName=\"editPicture\"\n      formTitle=\"Change profile picture\"\n      submitTitle=\"Save\"\n      submitLoadingTitle=\"Saving\"\n      isOpen={isOpen}\n      onSubmit={handleSubmit}\n      formRef={formRef}\n      formValid={formValid}\n      isLoading={isLoading}\n      handleClose={handleClose}\n    >\n      <input\n        onChange={handleUrlInputChange}\n        value={url}\n        className=\"popup__input popup__input_type_profile-picture\"\n        id=\"profile-picture-input\"\n        placeholder=\"profile picture url\"\n        name=\"picture\"\n        type=\"url\"\n        required\n      />\n\n      <span className=\"popup__error profile-picture-input-error\">{urlError}</span>\n    </PopupWithForm>\n  );\n}\nEditAvatarPopup.propTypes = {\n  isOpen: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onUpdateAvatar: PropTypes.func.isRequired,\n};\n","import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { testUrl, testValid } from '../utils/regex';\nimport PopupWithForm from './PopupWithForm';\n\nexport default function AddPlacePopup({ isOpen, onClose, onAddPlace }) {\n  const formRef = useRef();\n\n  const [isLoading, setIsLoading] = useState(false);\n\n  const [formValid, setFormValid] = useState(false);\n\n  const [nameError, setNameError] = useState({\n    isValid: false,\n    inputError: '',\n  });\n\n  const [urlError, setUrlError] = useState({\n    isValid: false,\n    inputError: '',\n  });\n\n  const [name, setName] = useState('');\n\n  const [link, setLink] = useState('');\n\n  const handleClose = useCallback(() => {\n    onClose();\n\n    setName('');\n\n    setLink('');\n\n    setUrlError({\n      isValid: false,\n      inputError: '',\n    });\n\n    setNameError({\n      isValid: false,\n      inputError: '',\n    });\n  }, [onClose]);\n\n  const handleNameInput = (event) => {\n    const input = event.target.value;\n\n    setName(input);\n\n    if (input.length < 2) {\n      setNameError({\n        isValid: false,\n        inputError: 'Use at least 2 characters',\n      });\n\n      return;\n    }\n\n    if (input.length > 30) {\n      setNameError({\n        isValid: false,\n        inputError: 'Use no more than 30 characters',\n      });\n\n      return;\n    }\n    if (testValid(input)) {\n      setNameError({\n        isValid: true,\n        inputError: '',\n      });\n    } else {\n      setNameError({\n        isValid: false,\n        inputError: `'<' and '>' are invalid characters`,\n      });\n    }\n  };\n\n  const handleLinkInput = (event) => {\n    const input = event.target.value;\n\n    setLink(input);\n\n    const result = testUrl(input);\n\n    if (result.valid) {\n      setUrlError({\n        isValid: true,\n        inputError: '',\n      });\n\n      setLink(result.match[0]);\n    } else {\n      setUrlError({\n        isValid: false,\n        inputError: 'Please fill in a valid URL',\n      });\n    }\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    if (formValid) {\n      setIsLoading(true);\n\n      await onAddPlace(name, link);\n\n      handleClose();\n\n      setTimeout(() => setIsLoading(false), 500);\n    }\n  };\n\n  useEffect(() => {\n    if (nameError.isValid && urlError.isValid) {\n      setFormValid(true);\n    } else {\n      setFormValid(false);\n    }\n  }, [nameError, urlError]);\n\n  return (\n    <PopupWithForm\n      name=\"add\"\n      formName=\"add\"\n      formTitle=\"New Place\"\n      submitTitle=\"Create\"\n      submitLoadingTitle=\"Creating\"\n      isOpen={isOpen}\n      onSubmit={handleSubmit}\n      formRef={formRef}\n      formValid={formValid}\n      isLoading={isLoading}\n      handleClose={handleClose}\n    >\n      <input\n        value={name}\n        onChange={handleNameInput}\n        className=\"popup__input popup__input_type_title\"\n        id=\"title-input\"\n        type=\"text\"\n        placeholder=\"Title\"\n        name=\"title\"\n        required\n      />\n\n      <span className=\"popup__error  title-input-error\">{nameError.inputError}</span>\n\n      <input\n        value={link}\n        onChange={handleLinkInput}\n        className=\"popup__input popup__input_type_url\"\n        id=\"url-input\"\n        type=\"url\"\n        placeholder=\"Image URL\"\n        name=\"url\"\n        required\n      />\n\n      <span className=\"popup__error url-input-error\">{urlError.inputError}</span>\n    </PopupWithForm>\n  );\n}\nAddPlacePopup.propTypes = {\n  isOpen: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onAddPlace: PropTypes.func.isRequired,\n};\n","import React, { useState, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport PopupWithForm from './PopupWithForm';\n\nexport default function DeleteCardPopup({ isOpen, onClose, onDeleteCard }) {\n  const formRef = useRef();\n\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleSubmit = async (event) => {\n    setIsLoading(true);\n\n    await onDeleteCard(event);\n\n    setTimeout(() => setIsLoading(false), 500);\n  };\n\n  return (\n    <PopupWithForm\n      isOpen={isOpen}\n      onSubmit={handleSubmit}\n      name=\"delete\"\n      formName=\"delete\"\n      formTitle=\"Are you sure?\"\n      submitTitle=\"Yes\"\n      submitLoadingTitle=\"Deleting\"\n      formRef={formRef}\n      formValid\n      isLoading={isLoading}\n      handleClose={onClose}\n    />\n  );\n}\nDeleteCardPopup.propTypes = {\n  isOpen: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onDeleteCard: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Navigate } from 'react-router-dom';\n\nfunction ProtectedRoute({ children, loggedIn }) {\n  return loggedIn ? children : <Navigate to=\"/login\" />;\n}\nProtectedRoute.propTypes = {\n  children: PropTypes.node.isRequired,\n  loggedIn: PropTypes.bool.isRequired,\n};\n\nexport default ProtectedRoute;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport default function FormPage({\n  isLoading,\n  formValid,\n  formName,\n  formTitle,\n  submitTitle,\n  submitLoadingTitle,\n  handleSubmit,\n  children,\n}) {\n  return (\n    <form className=\"form\" name={formName} onSubmit={handleSubmit} noValidate>\n      <h1 className=\"form__title\">{formTitle}</h1>\n\n      <div className=\"form__input-container\">{children}</div>\n\n      <button\n        className={formValid ? 'form__save-button' : 'form__save-button form__save-button_disabled'}\n        type=\"submit\"\n      >\n        {isLoading ? `${submitLoadingTitle}...` : submitTitle}\n      </button>\n    </form>\n  );\n}\nFormPage.propTypes = {\n  isLoading: PropTypes.bool.isRequired,\n  formValid: PropTypes.bool.isRequired,\n  formName: PropTypes.string.isRequired,\n  formTitle: PropTypes.string.isRequired,\n  submitTitle: PropTypes.string.isRequired,\n  submitLoadingTitle: PropTypes.string.isRequired,\n  handleSubmit: PropTypes.func.isRequired,\n  children: PropTypes.node.isRequired,\n};\n","import { testEmail, testStrength, testValid } from './regex';\n\nexport const handleEmailChange = (event, setEmail, setEmailError) => {\n  const email = event.target.value;\n\n  setEmail(email);\n\n  const emailValid = testEmail(email);\n\n  if (emailValid.valid) {\n    setEmailError({\n      isValid: true,\n      inputError: '',\n    });\n\n    setEmail(emailValid.match[0]);\n  } else {\n    setEmailError({\n      isValid: false,\n      inputError: 'Please fill in a valid Email.',\n    });\n  }\n};\n\nexport const handlePasswordChange = (event, setPassword, setPasswordError, options) => {\n  const password = event.target.value;\n  setPassword(password);\n  if (password.length < 6) {\n    setPasswordError({\n      isValid: false,\n      inputError: 'Password must be at least 6 characters.',\n    });\n    return;\n  }\n\n  if (password.length > 20) {\n    setPasswordError({\n      isValid: false,\n      inputError: \"Password can't be longer than 20 characters.\",\n    });\n    return;\n  }\n  if (testValid(password)) {\n    if (options === 'login') {\n      setPasswordError({\n        isValid: true,\n        inputError: '',\n      });\n      return;\n    }\n    if (testStrength(password)) {\n      setPasswordError({\n        isValid: true,\n        inputError: '',\n      });\n      return;\n    }\n    setPasswordError({\n      isValid: false,\n      inputError:\n        'Please include at least 1 uppercase character, 1 lowercase character, and 1 number.',\n    });\n    return;\n  }\n  setPasswordError({\n    isValid: false,\n    inputError: \"'<' and '>' are invalid characters.\",\n  });\n};\n","import React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport FormPage from './FormPage';\nimport { handleEmailChange, handlePasswordChange } from '../utils/form';\nimport { login } from '../utils/auth';\n\nexport default function Login({\n  setHeaderText,\n  setHeaderButton,\n  setHeaderAction,\n  setLoggedIn,\n  isLoading,\n  setIsLoading,\n  setInfoTooltipMessage,\n  setInfoTooltipOk,\n  setInfoToolTipOpen,\n}) {\n  const navigate = useNavigate();\n\n  const [isLoadingLogin, setIsLoadingLogin] = useState(false);\n\n  const [formValid, setFormValid] = useState(false);\n\n  const [email, setEmail] = useState('');\n\n  const [password, setPassword] = useState('');\n\n  const [emailError, setEmailError] = useState({\n    isValid: false,\n    inputError: '',\n  });\n\n  const [passwordError, setPasswordError] = useState({\n    isValid: false,\n    inputError: '',\n  });\n\n  const handleEmailInput = (event) => handleEmailChange(event, setEmail, setEmailError);\n\n  const handlePasswordInput = (event) =>\n    handlePasswordChange(event, setPassword, setPasswordError, 'login');\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    if (formValid) {\n      setIsLoadingLogin(true);\n      setFormValid(false);\n      login(email, password)\n        .then((res) => {\n          if (res.email) {\n            setLoggedIn(true);\n            setIsLoading(true);\n            navigate('/');\n          } else throw new Error(res.message || res.err);\n        })\n        .catch((err) => {\n          setInfoTooltipOk(false);\n          setInfoTooltipMessage(err.message);\n          setInfoToolTipOpen(true);\n        })\n        .finally(() => setIsLoadingLogin(false));\n    }\n  };\n\n  const handleRegisterRedirect = () => {\n    navigate('/register');\n  };\n\n  useEffect(() => {\n    if (emailError.isValid && passwordError.isValid) setFormValid(true);\n    else setFormValid(false);\n  }, [emailError, passwordError]);\n\n  useEffect(() => {\n    setHeaderText('');\n\n    setHeaderButton('Sign up');\n\n    setHeaderAction({ action: handleRegisterRedirect });\n\n    return () => setHeaderAction({});\n  }, []);\n\n  return (\n    <main className=\"container\">\n      <div className={isLoading ? 'spinner' : 'spinner spinner_hidden'}>\n        <i />\n      </div>\n\n      <div className={isLoading ? 'content content_hidden' : 'content'}>\n        <section className=\"login\">\n          <FormPage\n            isLoading={isLoadingLogin}\n            formValid={formValid}\n            formName=\"login\"\n            formTitle=\"Log in\"\n            submitTitle=\"Log in\"\n            submitLoadingTitle=\"Loging in\"\n            handleSubmit={handleSubmit}\n          >\n            <input\n              className=\"form__input\"\n              type=\"email\"\n              placeholder=\"Email\"\n              value={email}\n              onChange={handleEmailInput}\n            />\n\n            <span className=\"form__error\">{emailError.inputError}</span>\n\n            <input\n              className=\"form__input\"\n              type=\"password\"\n              placeholder=\"Password\"\n              value={password}\n              onChange={handlePasswordInput}\n            />\n\n            <span className=\"form__error\">{passwordError.inputError}</span>\n\n            <p className=\"form__error\" />\n          </FormPage>\n\n          <button\n            className=\"login__register-text-button\"\n            type=\"button\"\n            onClick={handleRegisterRedirect}\n          >\n            Not a member yet? Sign up here!\n          </button>\n        </section>\n      </div>\n    </main>\n  );\n}\nLogin.propTypes = {\n  setHeaderText: PropTypes.func.isRequired,\n  setHeaderButton: PropTypes.func.isRequired,\n  setHeaderAction: PropTypes.func.isRequired,\n  setLoggedIn: PropTypes.func.isRequired,\n  isLoading: PropTypes.bool.isRequired,\n  setIsLoading: PropTypes.func.isRequired,\n  setInfoTooltipMessage: PropTypes.func.isRequired,\n  setInfoTooltipOk: PropTypes.func.isRequired,\n  setInfoToolTipOpen: PropTypes.func.isRequired,\n};\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useNavigate } from 'react-router-dom';\nimport FormPage from './FormPage';\nimport { handleEmailChange, handlePasswordChange } from '../utils/form';\nimport { register } from '../utils/auth';\n\nexport default function Register({\n  setHeaderText,\n  setHeaderButton,\n  setHeaderAction,\n  isLoading,\n  setInfoTooltipMessage,\n  setInfoTooltipOk,\n  setInfoToolTipOpen,\n}) {\n  const navigate = useNavigate();\n\n  const [isLoadingSignup, setIsLoadingSignup] = useState(false);\n\n  const [formValid, setFormValid] = useState(false);\n\n  const [email, setEmail] = useState('');\n\n  const [password, setPassword] = useState('');\n\n  const [emailError, setEmailError] = useState({\n    isValid: false,\n    inputError: '',\n  });\n\n  const [passwordError, setPasswordError] = useState({\n    isValid: false,\n    inputError: '',\n  });\n\n  const handleEmailInput = (event) => handleEmailChange(event, setEmail, setEmailError);\n\n  const handlePasswordInput = (event) => handlePasswordChange(event, setPassword, setPasswordError);\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    if (formValid) {\n      setFormValid(false);\n      setIsLoadingSignup(true);\n      register(email, password)\n        .then(() => {\n          setInfoTooltipOk(true);\n          setInfoTooltipMessage('Success! You have now been registered.');\n          setInfoToolTipOpen(true);\n          navigate('/login');\n        })\n        .catch((err) => {\n          setInfoTooltipOk(false);\n          setInfoTooltipMessage(err.message);\n          setInfoToolTipOpen(true);\n        })\n        .finally(() => {\n          setIsLoadingSignup(false);\n        });\n    }\n  };\n\n  const handleLoginRedirect = () => {\n    navigate('/login');\n  };\n\n  useEffect(() => {\n    if (emailError.isValid && passwordError.isValid) setFormValid(true);\n    else setFormValid(false);\n  }, [emailError, passwordError]);\n\n  useEffect(() => {\n    setHeaderText('');\n\n    setHeaderButton('Log in');\n\n    setHeaderAction({ action: handleLoginRedirect });\n\n    return () => setHeaderAction({});\n  }, []);\n\n  return (\n    <main className=\"container\">\n      <div className={isLoading ? 'spinner' : 'spinner spinner_hidden'}>\n        <i />\n      </div>\n      <div className={isLoading ? 'content content_hidden' : 'content'}>\n        <section className=\"register\">\n          <FormPage\n            isLoading={isLoadingSignup}\n            formValid={formValid}\n            formName=\"register\"\n            formTitle=\"Sign Up\"\n            submitTitle=\"Sign Up\"\n            submitLoadingTitle=\"Signing up\"\n            handleSubmit={handleSubmit}\n          >\n            <input\n              className=\"form__input\"\n              type=\"email\"\n              placeholder=\"Email\"\n              value={email}\n              onChange={handleEmailInput}\n            />\n            <span className=\"form__error\">{emailError.inputError}</span>\n            <input\n              className=\"form__input\"\n              type=\"password\"\n              placeholder=\"Password\"\n              value={password}\n              onChange={handlePasswordInput}\n            />\n            <span className=\"form__error\">{passwordError.inputError}</span>\n            <span className=\"form__error\" />\n          </FormPage>\n          <button\n            className=\"login__register-text-button\"\n            type=\"button\"\n            onClick={handleLoginRedirect}\n          >\n            Already a member? Sign in here!\n          </button>\n        </section>\n      </div>\n    </main>\n  );\n}\nRegister.propTypes = {\n  setHeaderText: PropTypes.func.isRequired,\n  setHeaderButton: PropTypes.func.isRequired,\n  setHeaderAction: PropTypes.func.isRequired,\n  isLoading: PropTypes.bool.isRequired,\n  setInfoTooltipMessage: PropTypes.func.isRequired,\n  setInfoTooltipOk: PropTypes.func.isRequired,\n  setInfoToolTipOpen: PropTypes.func.isRequired,\n};\n","export default __webpack_public_path__ + \"static/media/fail-register.df8eddf6.svg\";","export default __webpack_public_path__ + \"static/media/success-register.1b6082f8.svg\";","/* eslint-disable jsx-a11y/click-events-have-key-events */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport failIcon from '../images/fail-register.svg';\nimport successIcon from '../images/success-register.svg';\nimport handleClick from '../utils/handleClick';\n\nexport default function InfoTooltip({ isOk, isOpen, onClose, message }) {\n  const clickHandler = (event) => handleClick(event, onClose);\n\n  return (\n    <div\n      onClick={clickHandler}\n      role=\"button\"\n      tabIndex={0}\n      className={isOpen ? `popup popup_type_tooltip popup_opened` : `popup popup_type_tooltip`}\n    >\n      <div className=\"popup__container\">\n        <div className=\"popup__message-container\">\n          {isOk ? (\n            <img className=\"popup__icon\" src={successIcon} alt=\"Success register\" />\n          ) : (\n            <img className=\"popup__icon\" src={failIcon} alt=\"Fail register\" />\n          )}\n\n          <p className=\"popup__message\">\n            {message || 'Oops, Something went wrong! Please try again.'}\n          </p>\n        </div>\n\n        <button\n          className=\"popup__close-button\"\n          type=\"button\"\n          aria-label=\"Close\"\n          onClick={onClose}\n        />\n      </div>\n    </div>\n  );\n}\nInfoTooltip.propTypes = {\n  isOk: PropTypes.bool.isRequired,\n  isOpen: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  message: PropTypes.string.isRequired,\n};\n","/* eslint-disable no-console */\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { Route, Routes, Navigate } from 'react-router-dom';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/api';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport DeleteCardPopup from './DeleteCardPopup';\nimport ProtectedRoute from './ProtectedRoute';\nimport Login from './Login';\nimport Register from './Register';\nimport { authorize } from '../utils/auth';\nimport InfoTooltip from './InfoTooltip';\n\nfunction App() {\n  const [likeActive, setLikeActive] = useState(false);\n\n  const [headerText, setHeaderText] = useState('');\n\n  const [headerButton, setHeaderButton] = useState('');\n\n  const [headerAction, setHeaderAction] = useState({});\n\n  const [headerStyle, setHeaderStyle] = useState({});\n\n  const [currentUser, setCurrentUser] = useState({});\n\n  const [selectedCard, setSelectedCard] = useState({\n    name: '',\n    link: '',\n  });\n\n  const [deleteCardId, setDeleteCardId] = useState('');\n\n  const [isEditInfoPopupOpen, setIsEditIntoPopupOpen] = useState(false);\n\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n\n  const [isDeleteCardPopupOpen, setIsDeleteCardPopupOpen] = useState(false);\n\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\n\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = useState(false);\n\n  const [infoTooltipOk, setInfoTooltipOk] = useState(false);\n\n  const [infoTooltipMessage, setInfoTooltipMessage] = useState('');\n\n  const [loggedIn, setLoggedIn] = useState(false);\n\n  const [isLoading, setIsLoading] = useState(true);\n\n  const [cards, setCards] = useState([]);\n\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true);\n  };\n\n  const handleEditProfileClick = () => {\n    setIsEditIntoPopupOpen(true);\n  };\n\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true);\n  };\n\n  const handleDeleteCardClick = (cardId) => {\n    setDeleteCardId(cardId);\n    setIsDeleteCardPopupOpen(true);\n  };\n\n  const handleCardClick = (name, link) => {\n    setSelectedCard({\n      name,\n      link,\n    });\n    setIsImagePopupOpen(true);\n  };\n\n  const closeAllPopups = useCallback(() => {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditIntoPopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsImagePopupOpen(false);\n    setIsDeleteCardPopupOpen(false);\n    setIsInfoTooltipOpen(false);\n  }, []);\n\n  useEffect(() => {\n    const closeByEscape = (e) => {\n      if (e.key === 'Escape') {\n        closeAllPopups();\n      }\n    };\n\n    document.addEventListener('keydown', closeByEscape);\n\n    return () => document.removeEventListener('keydown', closeByEscape);\n  }, []);\n\n  const handleUpdateUser = async (name, about) => {\n    await api\n      .setUserinfo({ name, about })\n      .then(({ user }) => {\n        setCurrentUser(user);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  };\n\n  const handleUpdateAvatar = async (link) => {\n    await api\n      .setUserPicture(link)\n      .then(() => {\n        setCurrentUser({\n          ...currentUser,\n          link,\n        });\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  };\n\n  const handleAddPlace = async (name, link) => {\n    await api\n      .addCard({ name, link })\n      .then(({ card }) => {\n        setCards([card, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  };\n\n  const setNewCard = (_id, newCard) => {\n    setCards((state) => state.map((card) => (card._id === _id ? newCard : card)));\n  };\n\n  const handleCardLike = (_id, likes) => {\n    setLikeActive(true);\n    const isLiked = likes.some((like) => like === currentUser._id);\n\n    if (isLiked) {\n      api\n        .removeLike(_id)\n        .then((res) => setNewCard(_id, res.card))\n        .catch((err) => console.log(err))\n        .finally(() => setLikeActive(false));\n      return;\n    }\n    api\n      .addLike(_id)\n      .then((res) => setNewCard(_id, res.card))\n      .catch((err) => console.log(err))\n      .finally(() => setLikeActive(false));\n  };\n\n  const handleCardDelete = async (event) => {\n    event.preventDefault();\n\n    await api\n      .deleteCard(deleteCardId)\n      .then(() => {\n        setCards((state) => state.filter((card) => card._id !== deleteCardId));\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  };\n\n  useEffect(() => {\n    if (!loggedIn || !currentUser._id) {\n      setIsLoading(true);\n      authorize()\n        .then(async (res) => {\n          await api\n            .getIntialCard()\n            .then((initialCards) => {\n              setCurrentUser(res);\n              setCards(initialCards);\n              setLoggedIn(true);\n            })\n            .catch((err) => console.log(err));\n        })\n        .catch((err) => console.log(err))\n        .finally(() => setIsLoading(false));\n    }\n  }, [loggedIn]);\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header\n          headerText={headerText}\n          headerButton={headerButton}\n          headerAction={headerAction}\n          headerStyle={headerStyle}\n        />\n\n        <Routes>\n          <Route\n            path=\"/login\"\n            element={\n              loggedIn ? (\n                <Navigate to=\"/\" />\n              ) : (\n                <Login\n                  setHeaderText={setHeaderText}\n                  setHeaderButton={setHeaderButton}\n                  setHeaderAction={setHeaderAction}\n                  setLoggedIn={setLoggedIn}\n                  isLoading={isLoading}\n                  setIsLoading={setIsLoading}\n                  setInfoTooltipMessage={setInfoTooltipMessage}\n                  setInfoTooltipOk={setInfoTooltipOk}\n                  setInfoToolTipOpen={setIsInfoTooltipOpen}\n                />\n              )\n            }\n          />\n          <Route\n            path=\"/register\"\n            element={\n              loggedIn ? (\n                <Navigate to=\"/\" />\n              ) : (\n                <Register\n                  setHeaderText={setHeaderText}\n                  setHeaderButton={setHeaderButton}\n                  setHeaderAction={setHeaderAction}\n                  isLoading={isLoading}\n                  setIsLoading={setIsLoading}\n                  setInfoTooltipMessage={setInfoTooltipMessage}\n                  setInfoTooltipOk={setInfoTooltipOk}\n                  setInfoToolTipOpen={setIsInfoTooltipOpen}\n                />\n              )\n            }\n          />\n          <Route\n            path=\"/\"\n            element={\n              <ProtectedRoute loggedIn={loggedIn}>\n                <Main\n                  setHeaderText={setHeaderText}\n                  setHeaderButton={setHeaderButton}\n                  setHeaderAction={setHeaderAction}\n                  setHeaderStyle={setHeaderStyle}\n                  setLoggedIn={setLoggedIn}\n                  isLoading={isLoading}\n                  cards={cards}\n                  setCards={setCards}\n                  likeActive={likeActive}\n                  onEditProfileClick={handleEditProfileClick}\n                  onAddPlaceClick={handleAddPlaceClick}\n                  onEditAvatarClick={handleEditAvatarClick}\n                  onDeleteCardClick={handleDeleteCardClick}\n                  onCardClick={handleCardClick}\n                  onCardLike={handleCardLike}\n                  setCurrentUser={setCurrentUser}\n                />\n              </ProtectedRoute>\n            }\n          />\n          <Route path=\"*\" element={loggedIn ? <Navigate to=\"/\" /> : <Navigate to=\"/login\" />} />\n        </Routes>\n\n        <Footer />\n\n        <EditProfilePopup\n          isOpen={isEditInfoPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlace}\n        />\n\n        <DeleteCardPopup\n          isOpen={isDeleteCardPopupOpen}\n          onClose={closeAllPopups}\n          onDeleteCard={handleCardDelete}\n        />\n\n        <ImagePopup\n          isOpen={isImagePopupOpen}\n          selectedCard={selectedCard}\n          onClose={closeAllPopups}\n        />\n\n        <InfoTooltip\n          isOpen={isInfoTooltipOpen}\n          onClose={closeAllPopups}\n          isOk={infoTooltipOk}\n          message={infoTooltipMessage}\n        />\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}